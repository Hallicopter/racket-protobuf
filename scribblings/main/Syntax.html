<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>2&nbsp;Syntax</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Protocol Buffers:<span class="mywbr"> &nbsp;</span> Portable Data Serialization</a></td></tr></table></div><div class="tocviewsublistonly" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Reflection.html" class="tocviewlink" data-pltdoc="x">Reflection</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Syntax</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Encoding.html" class="tocviewlink" data-pltdoc="x">Encoding</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="License.html" class="tocviewlink" data-pltdoc="x">License</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#%28form._%28%28lib._protobuf%2Fsyntax..rkt%29._define-primitive-type%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym">define-<wbr></wbr>primitive-<wbr></wbr>type</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobuf%2Fsyntax..rkt%29._primitive~3aint32%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:<span class="mywbr"> &nbsp;</span>int32</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobuf%2Fsyntax..rkt%29._primitive~3aint64%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:<span class="mywbr"> &nbsp;</span>int64</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobuf%2Fsyntax..rkt%29._primitive~3auint32%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:<span class="mywbr"> &nbsp;</span>uint32</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobuf%2Fsyntax..rkt%29._primitive~3auint64%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:<span class="mywbr"> &nbsp;</span>uint64</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobuf%2Fsyntax..rkt%29._primitive~3asint32%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:<span class="mywbr"> &nbsp;</span>sint32</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobuf%2Fsyntax..rkt%29._primitive~3asint64%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:<span class="mywbr"> &nbsp;</span>sint64</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobuf%2Fsyntax..rkt%29._primitive~3afixed32%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:<span class="mywbr"> &nbsp;</span>fixed32</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobuf%2Fsyntax..rkt%29._primitive~3afixed64%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:<span class="mywbr"> &nbsp;</span>fixed64</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobuf%2Fsyntax..rkt%29._primitive~3asfixed32%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:<span class="mywbr"> &nbsp;</span>sfixed32</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobuf%2Fsyntax..rkt%29._primitive~3asfixed64%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:<span class="mywbr"> &nbsp;</span>sfixed64</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobuf%2Fsyntax..rkt%29._primitive~3abool%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:<span class="mywbr"> &nbsp;</span>bool</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobuf%2Fsyntax..rkt%29._primitive~3afloat%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:<span class="mywbr"> &nbsp;</span>float</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobuf%2Fsyntax..rkt%29._primitive~3adouble%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:<span class="mywbr"> &nbsp;</span>double</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobuf%2Fsyntax..rkt%29._primitive~3abytes%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:<span class="mywbr"> &nbsp;</span>bytes</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobuf%2Fsyntax..rkt%29._primitive~3astring%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:<span class="mywbr"> &nbsp;</span>string</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobuf%2Fsyntax..rkt%29._primitive~3auint%2A%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:<span class="mywbr"> &nbsp;</span>uint*</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobuf%2Fsyntax..rkt%29._primitive~3asint%2A%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:<span class="mywbr"> &nbsp;</span>sint*</span></span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._protobuf%2Fsyntax..rkt%29._define-enum-type%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">define-<wbr></wbr>enum-<wbr></wbr>type</span></span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._protobuf%2Fsyntax..rkt%29._define-message-type%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">define-<wbr></wbr>message-<wbr></wbr>type</span></span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._protobuf%2Fsyntax..rkt%29._define-message-extension%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">define-<wbr></wbr>message-<wbr></wbr>extension</span></span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.0</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="Reflection.html" title="backward to &quot;1 Reflection&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Protocol Buffers: Portable Data Serialization&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Encoding.html" title="forward to &quot;3 Encoding&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3>2<tt>&nbsp;</tt><a name="(part._.Syntax)"></a><a name="(mod-path._(lib._.'protobuf/syntax.'))"></a>Syntax</h3><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">require</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">lib</span><span class="stt"> </span><span class="RktVal">"protobuf/syntax"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Racket syntax to represent protocol buffer definitions as used by
code output from <span class="stt">protoc-gen-racket</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><table cellspacing="0" cellpadding="0" class="RktBlk RForeground"><tr><td><span class="RktPn">(</span><a name="(form._((lib._protobuf/syntax..rkt)._define-primitive-type))"></a><span title="Provided from: (lib &quot;protobuf/syntax&quot;)"><span class="RktSym"><span class="RktSymDef RktSym">define-primitive-type</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktVar">type</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">reader</span><span class="hspace">&nbsp;</span><span class="RktVar">writer</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">reader</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym">input-port?</span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="RktPn">)</span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">writer</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktSym">output-port?</span><span class="hspace">&nbsp;</span><span class="RktSym">any</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Binds <span class="RktSym">primitive:</span><span class="RktVar">name</span> to an instance of
<span class="RktSym"><span class="badlink"><span class="RktValLink">primitive-info</span></span></span> using the quoted <span class="RktVar">type</span> and the
specified <span class="RktVar">reader</span> and <span class="RktVar">writer</span>.</div></p><p>This is an internal utility macro and should normally not be used
since the set of primitive wire types for protocol buffers is not
intended to be extended.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._protobuf/syntax..rkt)._primitive~3aint32))"></a><span title="Provided from: (lib &quot;protobuf/syntax&quot;)"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:int32</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive-info?</span></span></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._protobuf/syntax..rkt)._primitive~3aint64))"></a><span title="Provided from: (lib &quot;protobuf/syntax&quot;)"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:int64</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive-info?</span></span></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._protobuf/syntax..rkt)._primitive~3auint32))"></a><span title="Provided from: (lib &quot;protobuf/syntax&quot;)"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:uint32</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive-info?</span></span></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._protobuf/syntax..rkt)._primitive~3auint64))"></a><span title="Provided from: (lib &quot;protobuf/syntax&quot;)"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:uint64</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive-info?</span></span></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._protobuf/syntax..rkt)._primitive~3asint32))"></a><span title="Provided from: (lib &quot;protobuf/syntax&quot;)"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:sint32</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive-info?</span></span></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._protobuf/syntax..rkt)._primitive~3asint64))"></a><span title="Provided from: (lib &quot;protobuf/syntax&quot;)"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:sint64</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive-info?</span></span></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._protobuf/syntax..rkt)._primitive~3afixed32))"></a><span title="Provided from: (lib &quot;protobuf/syntax&quot;)"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:fixed32</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive-info?</span></span></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._protobuf/syntax..rkt)._primitive~3afixed64))"></a><span title="Provided from: (lib &quot;protobuf/syntax&quot;)"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:fixed64</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive-info?</span></span></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._protobuf/syntax..rkt)._primitive~3asfixed32))"></a><span title="Provided from: (lib &quot;protobuf/syntax&quot;)"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:sfixed32</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive-info?</span></span></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._protobuf/syntax..rkt)._primitive~3asfixed64))"></a><span title="Provided from: (lib &quot;protobuf/syntax&quot;)"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:sfixed64</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive-info?</span></span></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._protobuf/syntax..rkt)._primitive~3abool))"></a><span title="Provided from: (lib &quot;protobuf/syntax&quot;)"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:bool</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive-info?</span></span></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._protobuf/syntax..rkt)._primitive~3afloat))"></a><span title="Provided from: (lib &quot;protobuf/syntax&quot;)"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:float</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive-info?</span></span></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._protobuf/syntax..rkt)._primitive~3adouble))"></a><span title="Provided from: (lib &quot;protobuf/syntax&quot;)"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:double</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive-info?</span></span></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._protobuf/syntax..rkt)._primitive~3abytes))"></a><span title="Provided from: (lib &quot;protobuf/syntax&quot;)"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:bytes</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive-info?</span></span></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._protobuf/syntax..rkt)._primitive~3astring))"></a><span title="Provided from: (lib &quot;protobuf/syntax&quot;)"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:string</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive-info?</span></span></span></p></blockquote></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">The primitive protocol buffer types.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._protobuf/syntax..rkt)._primitive~3auint*))"></a><span title="Provided from: (lib &quot;protobuf/syntax&quot;)"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:uint*</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">max-size</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive-info?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">max-size</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym">exact-positive-integer?</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._protobuf/syntax..rkt)._primitive~3asint*))"></a><span title="Provided from: (lib &quot;protobuf/syntax&quot;)"><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive:sint*</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">max-size</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive-info?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">max-size</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym">exact-positive-integer?</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Generators for variants of the primitive protocol buffer integer
types that modify or lift the maximum encoded size restriction for
these values.</div></p><p>The <span class="stt">protoc-gen-racket</span> code generator uses these types when it
finds an <span class="RktInBG"><span class="hspace"></span><span class="RktIn">(extend.protobuf.max_size)</span><span class="hspace"></span></span> option on a field of
type <span class="RktInBG"><span class="hspace"></span><span class="RktIn">uint64</span><span class="hspace"></span></span> or <span class="RktInBG"><span class="hspace"></span><span class="RktIn">sint64</span><span class="hspace"></span></span>. The <span class="RktVar">max-size</span>
will be the value of the option or <span class="RktVal">#f</span> in case the option is
zero. Protocol buffer definitions using this extension must
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">import "extend/protobuf/bigint.proto"</span><span class="hspace"></span></span> from this library&rsquo;s
distribution.</p><p>Note that relaxing the size restriction is not compatible with other
implementations of protocol buffers and lifting the restriction
entirely may also be vulnerable to denial of service attacks.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><table cellspacing="0" cellpadding="0" class="RktBlk RForeground"><tr><td><span class="RktPn">(</span><a name="(form._((lib._protobuf/syntax..rkt)._define-enum-type))"></a><span title="Provided from: (lib &quot;protobuf/syntax&quot;)"><span class="RktSym"><span class="badlink"><span class="RktValLink">define-enum-type</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">alt</span><span class="hspace">&nbsp;</span><span class="RktVar">tag</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">tag</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">exact-nonnegative-integer?</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Binds <span class="RktSym">enum:</span><span class="RktVar">name</span> to an instance of
<span class="RktSym"><span class="badlink"><span class="RktValLink">enum-info</span></span></span> and defines the enumeration conversion procedures
<span class="RktSym">integer-&gt;</span><span class="RktVar">name</span> and <span class="RktVar">name</span><span class="RktSym"><span class="nobreak">-&gt;</span>integer</span>.</div></p><p>Each <span class="RktVar">alt</span> is a possible symbolic enumeration item
corresponding to the numeric <span class="RktVar">tag</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><table cellspacing="0" cellpadding="0" class="RktBlk RForeground"><tr><td><span class="RktPn">(</span><a name="(form._((lib._protobuf/syntax..rkt)._define-message-type))"></a><span title="Provided from: (lib &quot;protobuf/syntax&quot;)"><span class="RktSym"><span class="badlink"><span class="RktValLink">define-message-type</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">label</span><span class="hspace">&nbsp;</span><span class="RktVar">type</span><span class="hspace">&nbsp;</span><span class="RktVar">field</span><span class="hspace">&nbsp;</span><span class="RktVar">tag</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">default</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">label</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">required</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">optional</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">repeated</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">packed</span></td></tr></table></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">type</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive-info?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">enum-info?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">struct-type?</span><span class="RktPn">)</span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">tag</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">exact-nonnegative-integer?</span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Defines a structure type similar to the following code: </div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">struct</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">message</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">field</span><span class="hspace">&nbsp;</span><span class="RktPn">#:auto</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:transparent</span><span class="hspace">&nbsp;</span><span class="RktPn">#:mutable</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:auto-value</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">void</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:property</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">prop:protobuf</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">delay</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">message-info</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">name</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>In addition to the unary constructor procedure <span class="RktVar">name</span> that is
of limited use, a variadic constructor <span class="RktVar">name</span><span class="RktSym">*</span> is
created. This constructor accepts an optional keyword argument for
every declared field of the message.</p><p>The accessors generated for each field accept an additional optional
argument to specify a default value. If the accessor is applied to
an instance of the message type in which the field is set to
<span class="RktPn">(</span><span class="RktSym">void</span><span class="RktPn">)</span>, the default value is applied in case it is a thunk
or is returned otherwise.</p><p><div class="SIntrapara">If no explicit default value is specified for a missing field, the
accessors behave as follows:
</div><div class="SIntrapara"><ul><li><p>The accessor for a required field raises an
<span class="RktSym">exn:fail:user</span> error.</p></li><li><p>The accessor for an optional field runs a default thunk with
<span class="RktVar">default</span>.</p></li><li><p>The accessor for a repeated (or packed repeated) field returns
an empty list.</p></li></ul></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><table cellspacing="0" cellpadding="0" class="RktBlk RForeground"><tr><td><span class="RktPn">(</span><a name="(form._((lib._protobuf/syntax..rkt)._define-message-extension))"></a><span title="Provided from: (lib &quot;protobuf/syntax&quot;)"><span class="RktSym"><span class="badlink"><span class="RktValLink">define-message-extension</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktVar">label</span><span class="hspace">&nbsp;</span><span class="RktVar">type</span><span class="hspace">&nbsp;</span><span class="RktVar">field</span><span class="hspace">&nbsp;</span><span class="RktVar">tag</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">default</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">label</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">required</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">optional</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">repeated</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">packed</span></td></tr></table></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">type</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">primitive-info?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">enum-info?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">struct-type?</span><span class="RktPn">)</span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">tag</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">exact-nonnegative-integer?</span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Registers an extension field for the existing message type called
<span class="RktVar">name</span>. The field declaration syntax is identical to that of
a single field in <span class="RktSym"><span class="badlink"><span class="RktValLink">define-message-type</span></span></span>.</div></p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="Reflection.html" title="backward to &quot;1 Reflection&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Protocol Buffers: Portable Data Serialization&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Encoding.html" title="forward to &quot;3 Encoding&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>